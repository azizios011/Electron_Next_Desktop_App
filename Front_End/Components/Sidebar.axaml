<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="260" d:DesignHeight="800"
             x:Class="Front_End.Components.Sidebar"
             Name="SidebarRoot">

    <UserControl.Styles>
        <Style Selector="Button.sidebar-item">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#6B7280"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="CornerRadius" Value="10"/>
        </Style>
        <Style Selector="Button.sidebar-item:pointerover">
            <Setter Property="Background" Value="#F3F4F6"/>
            <Setter Property="Foreground" Value="#111827"/>
        </Style>
        <Style Selector="Button.sidebar-item-active">
            <Setter Property="Background" Value="#111827"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="CornerRadius" Value="10"/>
        </Style>
        <Style Selector="Button.sidebar-item-active:pointerover">
            <Setter Property="Background" Value="#374151"/>
        </Style>
        
        <!-- Dark mode styles -->
        <Style Selector="UserControl.dark-mode Border.sidebar-bg">
            <Setter Property="Background" Value="#1F2937"/>
        </Style>
        <Style Selector="UserControl.dark-mode TextBlock.sidebar-title">
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="UserControl.dark-mode Border.search-bg">
            <Setter Property="Background" Value="#374151"/>
        </Style>
        <Style Selector="UserControl.dark-mode Button.sidebar-item">
            <Setter Property="Foreground" Value="#9CA3AF"/>
        </Style>
        <Style Selector="UserControl.dark-mode Button.sidebar-item:pointerover">
            <Setter Property="Background" Value="#374151"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style Selector="UserControl.dark-mode Button.sidebar-item-active">
            <Setter Property="Background" Value="#3B82F6"/>
        </Style>
        <Style Selector="UserControl.dark-mode Button.sidebar-item-active:pointerover">
            <Setter Property="Background" Value="#2563EB"/>
        </Style>
    </UserControl.Styles>

    <Border Name="SidebarBorder" 
            Classes="sidebar-bg"
            Background="White" 
            BorderBrush="#F3F4F6" 
            BorderThickness="0,0,1,0"
            Width="260"
            Padding="20">
        <Grid RowDefinitions="Auto,Auto,*,Auto">
            
            <!-- Header with Logo and Close Button -->
            <Grid Grid.Row="0" Margin="0,0,0,24">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Logo -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="10">
                    <Border Width="32" Height="32" CornerRadius="8" Background="#111827">
                        <Path Data="M13 10V3L4 14h7v7l9-11h-7z" 
                              Fill="White" 
                              Width="16" 
                              Height="16" 
                              Stretch="Uniform"
                              HorizontalAlignment="Center" 
                              VerticalAlignment="Center"/>
                    </Border>
                    <TextBlock Text="Invooce" 
                               Classes="sidebar-title"
                               FontSize="20" 
                               FontWeight="Bold" 
                               Foreground="#111827"
                               VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- Close Button -->
                <Button Grid.Column="1" 
                        Name="CloseButton"
                        Background="Transparent"
                        BorderThickness="0"
                        Padding="8"
                        Cursor="Hand"
                        CornerRadius="6">
                    <Path Data="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" 
                          Fill="#9CA3AF" 
                          Width="18" 
                          Height="18" 
                          Stretch="Uniform"/>
                </Button>
            </Grid>
            
            <!-- Search Bar -->
            <Border Grid.Row="1" 
                    Classes="search-bg"
                    Background="#F9FAFB" 
                    CornerRadius="10" 
                    Padding="12,10"
                    Margin="0,0,0,32">
                <Grid ColumnDefinitions="Auto,*,Auto">
                    <Path Grid.Column="0"
                          Data="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" 
                          Fill="#9CA3AF" 
                          Width="16" 
                          Height="16" 
                          Stretch="Uniform"
                          VerticalAlignment="Center"
                          Margin="0,0,10,0"/>
                    <TextBlock Grid.Column="1" 
                               Text="Search" 
                               Foreground="#9CA3AF" 
                               FontSize="14"
                               VerticalAlignment="Center"/>
                    <Border Grid.Column="2" 
                            Background="#E5E7EB" 
                            CornerRadius="4" 
                            Padding="6,2">
                        <TextBlock Text="/" 
                                   Foreground="#9CA3AF" 
                                   FontSize="12"
                                   FontWeight="Medium"/>
                    </Border>
                </Grid>
            </Border>
            
            <!-- Navigation Sections -->
            <ScrollViewer Grid.Row="2" HorizontalScrollBarVisibility="Disabled">
                <StackPanel Spacing="24">
                    
                    <!-- NAVIGATION Section -->
                    <StackPanel Spacing="4">
                        <TextBlock Text="NAVIGATION" 
                                   FontSize="11" 
                                   FontWeight="SemiBold" 
                                   Foreground="#9CA3AF"
                                   Margin="16,0,0,8"
                                   LetterSpacing="1"/>
                        
                        <!-- Dashboard -->
                        <Button Name="DashboardButton" Classes="sidebar-item-active">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Path Data="M4 13h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1zm0 8h6c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm10 0h6c.55 0 1-.45 1-1v-8c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1zM13 4v4c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1z" 
                                      Fill="White" 
                                      Width="18" 
                                      Height="18" 
                                      Stretch="Uniform"
                                      VerticalAlignment="Center"
                                      Name="DashboardIcon"/>
                                <TextBlock Text="Dashboard" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Create Invoice -->
                        <Button Name="CreateInvoiceButton" Classes="sidebar-item">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Path Data="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" 
                                      Fill="#9CA3AF" 
                                      Width="18" 
                                      Height="18" 
                                      Stretch="Uniform"
                                      VerticalAlignment="Center"
                                      Name="CreateInvoiceIcon"/>
                                <TextBlock Text="Create Invoice" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Forms -->
                        <Button Classes="sidebar-item">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Path Data="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" 
                                      Fill="#9CA3AF" 
                                      Width="18" 
                                      Height="18" 
                                      Stretch="Uniform"
                                      VerticalAlignment="Center"/>
                                <TextBlock Text="Forms" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Clicks -->
                        <Button Classes="sidebar-item">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Path Data="M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7" 
                                      Fill="#9CA3AF" 
                                      Width="18" 
                                      Height="18" 
                                      Stretch="Uniform"
                                      VerticalAlignment="Center"/>
                                <TextBlock Text="Clicks" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Split Testing -->
                        <Button Classes="sidebar-item">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Path Data="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" 
                                      Fill="#9CA3AF" 
                                      Width="18" 
                                      Height="18" 
                                      Stretch="Uniform"
                                      VerticalAlignment="Center"/>
                                <TextBlock Text="Split Testing" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                    
                    <!-- APP Section -->
                    <StackPanel Spacing="4">
                        <TextBlock Text="APP" 
                                   FontSize="11" 
                                   FontWeight="SemiBold" 
                                   Foreground="#9CA3AF"
                                   Margin="16,0,0,8"
                                   LetterSpacing="1"/>
                        
                        <!-- Webflow -->
                        <Button Classes="sidebar-item">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Border Width="24" Height="24" CornerRadius="6" Background="#4353FF">
                                    <TextBlock Text="W" 
                                               FontSize="12" 
                                               FontWeight="Bold" 
                                               Foreground="White"
                                               HorizontalAlignment="Center" 
                                               VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Webflow" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Framer -->
                        <Button Classes="sidebar-item">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Border Width="24" Height="24" CornerRadius="6" Background="#111827">
                                    <TextBlock Text="F" 
                                               FontSize="12" 
                                               FontWeight="Bold" 
                                               Foreground="White"
                                               HorizontalAlignment="Center" 
                                               VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Framer" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <!-- Typeform -->
                        <Button Classes="sidebar-item">
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <Border Width="24" Height="24" CornerRadius="6" Background="#111827">
                                    <TextBlock Text="T" 
                                               FontSize="12" 
                                               FontWeight="Bold" 
                                               Foreground="White"
                                               HorizontalAlignment="Center" 
                                               VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="Typeform" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>

            <!-- Dark Mode Toggle at Bottom -->
            <Border Grid.Row="3" 
                    Margin="0,16,0,0"
                    Padding="0,16,0,0"
                    BorderBrush="#E5E7EB"
                    BorderThickness="0,1,0,0">
                <Button Name="DarkModeButton"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Left"
                        Padding="16,12"
                        CornerRadius="10"
                        Cursor="Hand">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <!-- Moon/Sun Icon -->
                        <Border Width="36" Height="36" CornerRadius="10" Background="#F3F4F6" Name="ThemeIconBg">
                            <Path Name="ThemeIcon"
                                  Data="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z" 
                                  Fill="#6B7280" 
                                  Width="18" 
                                  Height="18" 
                                  Stretch="Uniform"
                                  HorizontalAlignment="Center" 
                                  VerticalAlignment="Center"/>
                        </Border>
                        
                        <!-- Text -->
                        <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Center">
                            <TextBlock Name="ThemeModeText" 
                                       Text="Dark Mode" 
                                       FontSize="14" 
                                       FontWeight="Medium"
                                       Foreground="#111827"/>
                            <TextBlock Name="ThemeStatusText"
                                       Text="Off" 
                                       FontSize="12" 
                                       Foreground="#9CA3AF"/>
                        </StackPanel>
                        
                        <!-- Toggle indicator -->
                        <Border Grid.Column="2" 
                                Name="ToggleBg"
                                Width="44" 
                                Height="24" 
                                CornerRadius="12"
                                Background="#E5E7EB"
                                VerticalAlignment="Center">
                            <Border Name="ToggleKnob"
                                    Width="20" 
                                    Height="20" 
                                    CornerRadius="10"
                                    Background="White"
                                    HorizontalAlignment="Left"
                                    Margin="2,0,0,0"
                                    BoxShadow="0 1 3 0 #40000000"/>
                        </Border>
                    </Grid>
                </Button>
            </Border>
        </Grid>
    </Border>
</UserControl>
